{
  "service_type": "user_service",
  "x509": {
    "use": true,
    "client_ca_cert": "= file :client_ca_cert, :missing => 'Certificate Authority. Run `leap cert ca`'",
    "dh": "= file :dh_params, :missing => 'Diffie-Hellman parameters. Run `leap cert dh`'"
  },
  "openvpn": {
    "location": "Location Unknown",
    "gateway_address": "REQUIRED",
    "free_gateway_address": "= openvpn.allow_free ? 'REQUIRED' : nil",
    "ports": ["80", "443", "53", "1194"],
    "protocols": ["tcp", "udp"],
    "filter_dns": false,
    "adblock": false,
    "user_ips": false,
    "allow_free": "= global.provider.service_allow_free",
    "free_prefix": "= global.provider.ca.client_certificates.free_prefix",
    "free_rate_limit": "= openvpn.allow_free ? global.provider.service_levels.detect{|level| level['name'] == 'free'}['bandwidth'] : nil"
  }
}
