{
  "service_type": "internal_service",
  "x509": {
    "use": true
  },
  "stunnel": {
    "couch_server": "= stunnel_server(couch.port)",
    "bigcouch_replication_server": "= stunnel_server(couch.bigcouch.port)",
    "bigcouch_replication_clients": "= stunnel_client(nodes_like_me[:services => :couchdb], global.services[:couchdb].couch.bigcouch.port)"
  },
  "couch": {
    "port": 5984,
    "bigcouch": {
      "port": 4369,
      "cookie": "= secret :bigcouch_cookie"
    },
    "users": {
      "admin": {
        "username": "admin",
        "password": "= secret :couch_admin_password",
        "salt": "= hex_secret :couch_admin_password_salt, 128"
      },
      "webapp": {
        "username": "webapp",
        "password": "= secret :couch_webapp_password",
        "salt": "= hex_secret :couch_webapp_password_salt, 128"
      },
      "ca_daemon": {
        "username": "ca_daemon",
        "password": "= secret :couch_ca_daemon_password",
        "salt": "= hex_secret :couch_ca_daemon_password_salt, 128"
      }
    }
  }
}
